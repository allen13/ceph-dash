<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <title>OpenShift Ceph Volumes</title>
  <link href="{{ url_for('static', filename='css/bootstrap.min.slate.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/ceph.dash.css') }}" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.10.0/css/bootstrap-select.min.css">
  <link rel="shortcut icon" href="{{ url_for('static', filename='img/favicon.ico') }}" />
  <link rel="apple-touch-icon" href="{{ url_for('static', filename='img/icon.png') }}" />
</head>
<body>
  <div class="container">
    <div class="well">
      <h1>OpenShift Ceph Volumes</h1>
    </div>

    <!--START CEPH VOLUMES-->
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h3 class="panel-title">
          Ceph Volumes
        </h3>
      </div>
      <div class="panel-body" align="center">

        <div class="row">
          <div class="col-md-12">
            <div class="panel panel-default">
              <div class="panel-body">
                <button type="button" class="btn btn-default" data-toggle="modal" data-target="#createVolume" >Create Volume</button>
              </div>
            </div>
          </div>
        </div>

        {% for cluster_name, rbd_images in data['rbd_images'].iteritems() %}
        <div class="row">
          <div class="col-md-12">
            <div class="panel panel-default">
              <div class="panel-heading">{{ cluster_name }}</div>
              <div class="panel-body" align="center">
                <!--here we add the bytes written per second-->
                <table class="table table-bordered">
                <thead> <tr> <th>Volume</th> <th> Size (GB) </th> <th> OpenShift Project </th> <th> Persistent Volume <th> Persistent Volume Claim </th></tr> </thead>
                <tbody>
                {% for rbd_image in rbd_images %}
                  <tr> <td>{{ rbd_image['name'] }}</td> <td>{{ rbd_image['size'] }}</td> <td>{{ rbd_image['project'] }}</td> <td>{{ rbd_image['pv'] }}</td> <td>{{ rbd_image['pvc'] }}</td>
                {% endfor %}
                </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        {% endfor %}

      </div>
    </div>
    <div class="modal fade" id="createVolume" tabindex="-1" role="dialog" aria-labelledby="createVolume">

    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myModalLabel">Create Volume</h4>
        </div>
        <div class="modal-body">
          <form id="createVolumeForm">

            <div class="form-group">
              <label for="volumeName">Volume Name</label>
              <input type="text" class="form-control" id="volumeName" placeholder="Volume Name">
            </div>

            <div class="form-group">
              <label for="volumeSize">Volume Size (GB)</label>
              <input type="number" class="form-control" id="volumeSize" value="100">
            </div>

            <div class="form-group">
              <label for="clusterSelect">Ceph Cluster</label>
              <br/>
              <select id="clusterSelect" name="cluster" form="createVolumeForm" class="selectpicker">
                {% for cluster_name in config.keys() %}
                <option value="{{ cluster_name }}">{{ cluster_name }}</option>
                {% endfor %}
              </select>
            </div>

            <div class="form-group">
              <label for="clusterSelect">Openshift Project</label>
              <br/>
              <select id="clusterSelect" name="project" form="createVolumeForm" class="selectpicker">
                <option value="tacolayer">tacolayer</option>
                <option value="openshift-infra">openshift-infra</option>
              </select>
            </div>

          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Create</button>
        </div>
      </div>
    </div>
  <!--END CEPH VOLUMES -->
  </div>

  <script type="text/javascript" src="{{ url_for('static', filename='js/jquery-2.1.4.min.js') }}"></script>
  <script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
  <script type="text/javascript" src="{{ url_for('static', filename='js/globalize.min.js') }}"></script>
  <script type="text/javascript" src="{{ url_for('static', filename='js/dx.chartjs.js') }}"></script>
  <script type="text/javascript" src="{{ url_for('static', filename='js/jquery.flot.js') }}"></script>
  <script type="text/javascript" src="{{ url_for('static', filename='js/jquery.flot.time.js') }}"></script>
  <script type="text/javascript" src="{{ url_for('static', filename='js/jquery.flot.byte.js') }}"></script>
  <script type="text/javascript" src="{{ url_for('static', filename='js/jquery.flot.tooltip.js') }}"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.10.0/js/bootstrap-select.min.js"></script>

</body>
</html>
